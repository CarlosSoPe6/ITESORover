<?xml version="1.0"?>
<robot name="suspension_left" xmlns:xacro="http://www.ros.org/wiki/xacro">
    <xacro:macro name="suspension_left" params="">
    
        <joint name="suspension_left_tree_root_joint" type="fixed">
            <origin xyz="${rocker_left_offset}" rpy="0.0 0.0 0.0"/>
            <parent link="chassis_link"/>
            <child link="rocker_left_link"/>
            <axis xyz="1.0 0.0 0.0"/>
        </joint>
        <link name="rocker_left_link">
            <inertial>
                <origin xyz="${rocker_left_mass_center_xyz}" rpy="0.0 0.0 0.0"/>
                <mass value="${rocker_left_mass}"/>
                <inertia    ixx="0.0077"    ixy="-0.0012"   ixz="0.0" 
                                            iyy="0.0006"    iyz="-0.0002"
                                                            izz="0.0078"/>
            </inertial>
            <visual>
                <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Rocker.STL" scale="${SCALE_XYZ}"/>
                </geometry>
                <material name="white">
                </material>
            </visual>
            <collision>
                <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Rocker.STL" scale="${SCALE_XYZ}"/>
                </geometry>
            </collision>
        </link>

        <joint name="rocker_bogie_left" type="continuous">
            <origin xyz="${bogie_pivot_left_offset}" rpy="0.0 0.0 0.0"/>
            <parent link="rocker_left_link"/>
            <child link="bogie_pivot_left_link"/>
            <axis xyz="1.0 0.0 0.0"/>
        </joint>
        <link name="bogie_pivot_left_link">
            <inertial>
                <origin xyz="${bogie_pivot_left_mass_center_xyz}" rpy="0.0 0.0 0.0"/>
                <mass value="${bogie_pivot_left_mass}"/>
                <inertia    ixx="0.0059"    ixy="-0.0002"    ixz="0.0002" 
                                            iyy="0.0014"    iyz="0.002" 
                                                            izz="0.0051"/>
            </inertial>
            <visual>
                <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Bogie_pivot.STL" scale="${SCALE_XYZ}"/>
                </geometry>
                <material name="white">
                </material>
            </visual>
            <collision>
                <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Bogie_pivot.STL" scale="${SCALE_XYZ}"/>
                </geometry>
            </collision>
        </link>

        <joint name="bogie_drive_left_1" type="continuous">
            <origin xyz="${drive_module_left_1_offset}" rpy="0.0 0.0 0.0"/>
            <parent link="rocker_left_link"/>
            <child link="drive_module_left_1_link"/>
            <axis xyz="0.0 0.0 1.0"/>
        </joint>
        <link name="drive_module_left_1_link">
            <inertial>
                <origin xyz="${drive_module_left_mass_center_xyz}" rpy="${drive_module_left_rpy}"/>
                <mass value="${drive_module_left_mass}"/>
                <inertia    ixx="0.0102"    ixy="0.0001"    ixz="0.0" 
                                            iyy="0.0063"    iyz="-0.0018" 
                                                            izz="0.0049"/>
            </inertial>
            <visual name="">
                <origin xyz="${drive_module_left_1_origin}" rpy="${drive_module_left_rpy}"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Drive Module_steerable.STL" scale="${SCALE_XYZ}"/>
                </geometry>
                <material name="white">
                </material>
            </visual>
            <collision>
                <origin xyz="${drive_module_left_1_origin}" rpy="${drive_module_left_rpy}"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Drive Module_steerable.STL" scale="${SCALE_XYZ}"/>
                </geometry>
            </collision>
        </link>

        <joint name="bogie_drive_left_2" type="continuous">
            <origin xyz="${drive_module_left_2_offset}" rpy="0.0 0.0 0.0"/>
            <parent link="bogie_pivot_left_link"/>
            <child link="drive_module_left_2_link"/>
            <axis xyz="0.0 0.0 1.0"/>
        </joint>
        <link name="drive_module_left_2_link">
            <inertial>
                <origin xyz="${drive_module_left_mass_center_xyz}" rpy="${drive_module_left_rpy}"/>
                <mass value="${drive_module_left_mass}"/>
                <inertia    ixx="0.0102"    ixy="0.0001"    ixz="0.0" 
                                            iyy="0.0063"    iyz="-0.0018" 
                                                            izz="0.0049"/>
            </inertial>
            <visual name="">
                <origin xyz="${drive_module_left_2_origin}" rpy="${drive_module_left_rpy}"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Drive Module_steerable.STL" scale="${SCALE_XYZ}"/>
                </geometry>
                <material name="white">
                </material>
            </visual>
            <collision>
                <origin xyz="${drive_module_left_2_origin}" rpy="${drive_module_left_rpy}"/>
                <geometry>
                    <mesh filename="package://rover_description/meshes/Drive Module_steerable.STL" scale="${SCALE_XYZ}"/>
                </geometry>
            </collision>
        </link>

        <joint name="wheel_1_joint" type="continuous">
            <origin xyz="${wheel_left_1_offset}" rpy="${wheel_left_rpy}"/>
            <parent link="drive_module_left_1_link"/>
            <child link="bogie_1_wheel"/>
            <axis xyz="1.0 0.0 0.0"/>
        </joint>
        <wheel prefix="bogie_1" />
        
        <joint name="wheel_2_joint" type="continuous">
            <origin xyz="${wheel_left_2_offset}" rpy="${wheel_left_rpy}"/>
            <parent link="bogie_pivot_left_link"/>
            <child link="bogie_2_wheel"/>
            <axis xyz="1.0 0.0 0.0"/>
        </joint>
        <wheel prefix="bogie_2" />
        
        <joint name="wheel_3_joint" type="continuous">
            <origin xyz="${wheel_left_3_offset}" rpy="${wheel_left_rpy}"/>
            <parent link="drive_module_left_2_link"/>
            <child link="bogie_3_wheel"/>
            <axis xyz="1.0 0.0 0.0"/>
        </joint>
        <wheel prefix="bogie_3" />

    </xacro:macro>
</robot>